{
  "version": "1.0.0",
  "description": "Knowledge base for AI Agent to understand codebase structure and operations",
  "last_updated": "2025-10-12",
  
  "data_structure": {
    "resumes": {
      "location": "data/resumes/",
      "index_file": "data/resumes/index.json",
      "description": "Contains all resume versions (master and tailored)",
      "file_format": "UUID.json",
      "index_structure": {
        "resumes": [
          {
            "id": "UUID of the resume",
            "name": "Human-readable name (e.g., 'Sidney_Jones_Senior_Software_Engineer_Ford')",
            "created_at": "ISO timestamp",
            "updated_at": "ISO timestamp",
            "job_listing_id": "Optional: linked job listing UUID",
            "is_master": "Boolean: true for master resume",
            "description": "Optional description"
          }
        ]
      },
      "operations": {
        "find_resume_by_name": "Search index.json for resume with matching name (case-insensitive, partial match)",
        "find_resume_by_company": "Extract company name from resume name (e.g., 'Ford' from 'Sidney_Jones_Senior_Software_Engineer_Ford')",
        "get_resume_id": "Extract 'id' field from matching resume in index.json",
        "get_resume_path": "Construct path as 'data/resumes/{id}.json'"
      },
      "name_patterns": {
        "master": "Master Resume",
        "tailored": "{FirstName}_{LastName}_{Role}_{Company}",
        "examples": [
          "Sidney_Jones_Senior_Software_Engineer_Ford",
          "Sidney_Jones_Senior_Software_Engineer_GM",
          "Sidney_Jones_Senior_Software_Engineer_Credibly"
        ]
      }
    },
    
    "job_listings": {
      "location": "data/job_listings/",
      "index_file": "data/job_listings/index.json",
      "description": "Contains job descriptions and tailored experience summaries",
      "file_formats": [
        "UUID.json - Structured job listing data",
        "*.md - Markdown files with job descriptions or tailored experience"
      ],
      "markdown_files": {
        "job_descriptions": "Original job postings (e.g., 'Sr. Software Engineer - at Credibly.md')",
        "tailored_experience": "AI-generated tailored experience summaries (e.g., 'Tailored Experience Summary for Ford.md')"
      },
      "operations": {
        "find_by_company": "Search for markdown files containing company name",
        "find_tailored_experience": "Look for files matching pattern 'Tailored Experience Summary for {Company}.md'",
        "parse_experience": "Extract experience sections from markdown (look for headers with '###' or '**')"
      }
    },
    
    "backups": {
      "location": "data/backups/",
      "description": "Automatic backups of master_resume.json",
      "file_pattern": "master_resume_backup_YYYYMMDD_HHMMSS.json"
    }
  },
  
  "resume_duplication": {
    "script": "src/duplicate_resume.py",
    "description": "Duplicate an existing resume with a new name",
    "operations": {
      "duplicate": {
        "command": "python src/duplicate_resume.py --resume '{resume_name}' --new-name '{new_name}'",
        "description": "Create a copy of an existing resume",
        "parameters": {
          "resume": "Source resume name or company identifier (e.g., 'Ford', 'Master Resume')",
          "resume_id": "Alternative: Source resume UUID for direct lookup",
          "new_name": "Name for the duplicated resume (required)",
          "description": "Optional description for the new resume"
        }
      }
    },
    "examples": [
      "python src/duplicate_resume.py --resume 'Ford' --new-name 'Sidney_Jones_Engineering_Manager_Subscription_Billing'",
      "python src/duplicate_resume.py --resume 'Master Resume' --new-name 'Sidney_Jones_Senior_Engineer_NewCo'",
      "python src/duplicate_resume.py --resume-id 'd474d761-18f2-48ab-99b5-9f30c54f75b2' --new-name 'New Resume Name'",
      "python src/duplicate_resume.py --resume 'Ford' --new-name 'New Resume' --description 'Tailored for X position'"
    ],
    "natural_language_patterns": [
      "create a new resume based on {resume}",
      "duplicate the {resume} resume",
      "copy {resume} resume to {new_name}",
      "using the {resume} resume, create a new one for {job}",
      "make a copy of {resume} resume",
      "clone the {resume} resume as {new_name}"
    ],
    "workflow": {
      "description": "Typical workflow for creating a tailored resume",
      "steps": [
        "1. Duplicate an existing resume (e.g., Master Resume or company-specific resume)",
        "2. Optionally update specific sections using CRUD scripts",
        "3. Optionally tailor the resume to a job description using tailor.py"
      ],
      "example": "User: 'Using the Ford resume, create a new one for the Subscription Billing position' → Duplicate Ford resume → Optionally tailor to job posting"
    }
  },

  "crud_operations": {
    "description": "Specialized scripts for managing individual resume data sections",
    "location": "src/crud/",
    "shared_utilities": "src/crud/__init__.py",

    "basic_info": {
      "script": "python src/crud/basic_info.py",
      "description": "Manage name, title, location, and contact information",
      "operations": ["update-name", "update-title", "update-location", "update-email", "update-phone", "show"],
      "examples": [
        "python src/crud/basic_info.py --resume 'Ford' --update-title 'Principal Software Architect'",
        "python src/crud/basic_info.py --resume 'Master Resume' --update-email 'new@email.com'",
        "python src/crud/basic_info.py --resume 'Ford' --show"
      ],
      "natural_language_patterns": [
        "Update my title to {title}",
        "Change my email to {email}",
        "Update my location to {location}",
        "Show my basic info"
      ]
    },

    "summary": {
      "script": "python src/crud/summary.py",
      "description": "Manage resume summary text",
      "operations": ["update", "append", "show", "from-file"],
      "examples": [
        "python src/crud/summary.py --resume 'Ford' --update 'New summary text...'",
        "python src/crud/summary.py --resume 'Ford' --append 'Additional experience with AI/ML.'",
        "python src/crud/summary.py --resume 'Ford' --from-file 'summary.txt'",
        "python src/crud/summary.py --resume 'Ford' --show"
      ],
      "natural_language_patterns": [
        "Update my summary to {text}",
        "Add {text} to my summary",
        "Show my summary"
      ]
    },

    "technical_skills": {
      "script": "python src/crud/technical_skills.py",
      "description": "Manage technical proficiencies organized by category",
      "operations": ["add-category", "update-category", "append-to-category", "delete-category", "list", "show"],
      "categories": ["ai", "cloud", "databases", "devops", "languages", "opensource", "os", "security"],
      "examples": [
        "python src/crud/technical_skills.py --resume 'Ford' --add-category 'security' 'OAuth, JWT, SAML'",
        "python src/crud/technical_skills.py --resume 'Ford' --update-category 'cloud' 'Azure, AWS, GCP'",
        "python src/crud/technical_skills.py --resume 'Ford' --append-to-category 'languages' 'Rust, Go'",
        "python src/crud/technical_skills.py --resume 'Ford' --delete-category 'security'",
        "python src/crud/technical_skills.py --resume 'Ford' --list"
      ],
      "natural_language_patterns": [
        "Add {skill} to my {category} skills",
        "Update my {category} skills to include {skills}",
        "Remove {skill} from my skills",
        "List my technical skills"
      ]
    },

    "expertise": {
      "script": "python src/crud/expertise.py",
      "description": "Manage areas of expertise (array of strings)",
      "operations": ["add", "list", "update", "delete", "clear"],
      "examples": [
        "python src/crud/expertise.py --resume 'Ford' --add 'AI/ML Engineering'",
        "python src/crud/expertise.py --resume 'Ford' --update 'Old Text' 'New Text'",
        "python src/crud/expertise.py --resume 'Ford' --delete 'Legacy System Maintenance'",
        "python src/crud/expertise.py --resume 'Ford' --list"
      ],
      "natural_language_patterns": [
        "Add {expertise} to my areas of expertise",
        "Remove {expertise} from my expertise",
        "List my areas of expertise"
      ]
    },

    "achievements": {
      "script": "python src/crud/achievements.py",
      "description": "Manage achievements (array of strings)",
      "operations": ["add", "list", "update", "delete", "clear"],
      "examples": [
        "python src/crud/achievements.py --resume 'Ford' --add 'AWS Certified Solutions Architect'",
        "python src/crud/achievements.py --resume 'Ford' --delete 'GitHub Community Contributor'",
        "python src/crud/achievements.py --resume 'Ford' --list"
      ],
      "natural_language_patterns": [
        "Add achievement: {achievement}",
        "Remove {achievement} from my achievements",
        "List my achievements"
      ]
    },

    "education": {
      "script": "python src/crud/education.py",
      "description": "Manage education entries",
      "operations": ["add", "list", "update", "delete"],
      "fields": ["degree", "institution", "location", "year"],
      "examples": [
        "python src/crud/education.py --resume 'Ford' --add --degree 'Master of Science' --institution 'MIT' --location 'Cambridge, MA' --year '2020'",
        "python src/crud/education.py --resume 'Ford' --update --institution 'MIT' --year '2021'",
        "python src/crud/education.py --resume 'Ford' --delete --institution 'University of Phoenix'",
        "python src/crud/education.py --resume 'Ford' --list"
      ],
      "natural_language_patterns": [
        "Add my {degree} from {institution}",
        "Update my {institution} degree year to {year}",
        "Remove my {institution} education",
        "List my education"
      ]
    },

    "certifications": {
      "script": "python src/crud/certifications.py",
      "description": "Manage certification entries",
      "operations": ["add", "list", "update", "delete"],
      "fields": ["name", "issuer", "date", "credential"],
      "examples": [
        "python src/crud/certifications.py --resume 'Ford' --add --name 'AWS Solutions Architect' --issuer 'Amazon' --date 'Oct 2025' --credential 'ABC123'",
        "python src/crud/certifications.py --resume 'Ford' --update --name 'PSM I' --date 'June 2023'",
        "python src/crud/certifications.py --resume 'Ford' --delete --name 'PSM I'",
        "python src/crud/certifications.py --resume 'Ford' --list"
      ],
      "natural_language_patterns": [
        "Add my {certification} certification",
        "Update the date of my {certification} to {date}",
        "Remove my {certification}",
        "List my certifications"
      ]
    },

    "experience": {
      "script": "python src/crud/experience.py",
      "description": "Manage work experience entries and bullets",
      "operations": ["add", "add-bullet", "update-bullet", "delete-bullet", "delete", "list", "from-markdown"],
      "fields": ["employer", "role", "dates", "location", "bullets"],
      "examples": [
        "python src/crud/experience.py --resume 'Ford' --add --employer 'Microsoft' --role 'Senior Engineer' --dates '2020-2023' --location 'Remote'",
        "python src/crud/experience.py --resume 'Ford' --add-bullet --employer 'Microsoft' --text 'Led team of 10 engineers' --tags 'Leadership,Management'",
        "python src/crud/experience.py --resume 'Ford' --update-bullet --employer 'Microsoft' --index 0 --text 'New bullet text'",
        "python src/crud/experience.py --resume 'Ford' --delete-bullet --employer 'Microsoft' --index 0",
        "python src/crud/experience.py --resume 'Ford' --delete --employer 'Microsoft'",
        "python src/crud/experience.py --resume 'Ford' --list",
        "python src/crud/experience.py --resume 'Ford' --from-markdown 'experience.md' --replace"
      ],
      "natural_language_patterns": [
        "Add a new job at {employer} as {role}",
        "Add a bullet to my {employer} experience about {topic}",
        "Update the first bullet of my {employer} experience",
        "Delete my {employer} job",
        "List my work experience"
      ]
    }
  },

  "common_operations": {
    "update_resume_with_experience": {
      "description": "Update a resume with experience from a markdown file",
      "steps": [
        "1. Parse the command to extract resume identifier (name/company) and experience file path",
        "2. Load data/resumes/index.json to find the resume",
        "3. Search for resume by name or company (case-insensitive)",
        "4. Extract the resume 'id' from the matching entry",
        "5. Load the resume file: data/resumes/{id}.json",
        "6. Read the experience markdown file",
        "7. Parse experience sections from markdown (look for ### headers or ** bold sections)",
        "8. Update the 'experience' array in the resume JSON",
        "9. Save the updated resume back to data/resumes/{id}.json",
        "10. Update the 'updated_at' timestamp in data/resumes/index.json"
      ],
      "example_command": "Update the Ford resume with this experience: 'data/job_listings/Tailored Experience Summary for Ford.md'",
      "parsing_rules": {
        "resume_identifier": "Extract company name or resume name from command (e.g., 'Ford', 'GM', 'Credibly')",
        "file_path": "Extract file path (absolute or relative)",
        "search_strategy": "Search index.json for resume name containing the identifier"
      },
      "note": "For more granular experience management, use src/crud/experience.py instead"
    },
    
    "tailor_resume": {
      "description": "Tailor a resume to a specific job listing",
      "command": "python src/tailor.py --resume {resume_path} --jd {job_description_path} --out {output_path} --format {format} --theme {theme}",
      "parameters": {
        "resume": "Path to resume JSON file (e.g., data/resumes/{id}.json or data/master_resume.json)",
        "jd": "Path to job description file (e.g., data/job_listings/*.md)",
        "out": "Output file path (e.g., out/tailored_resume.html)",
        "format": "Output format: 'html', 'markdown', or 'docx'",
        "theme": "HTML theme: 'professional', 'modern', 'executive', 'creative'"
      },
      "example": "python src/tailor.py --resume data/master_resume.json --jd 'data/job_listings/Sr. Software Engineer - at Credibly.md' --out out/credibly_tailored.html --format html --theme professional"
    },
    
    "list_resumes": {
      "description": "List all available resumes",
      "method": "Read data/resumes/index.json and display resume names with IDs",
      "api_endpoint": "GET /api/resumes"
    },
    
    "list_job_listings": {
      "description": "List all job listings",
      "method": "Read data/job_listings/index.json and list markdown files in data/job_listings/",
      "api_endpoint": "GET /api/job-listings"
    },
    
    "create_resume": {
      "description": "Create a new resume (usually by duplicating existing one)",
      "api_endpoint": "POST /api/resumes",
      "cli_command": "python src/duplicate_resume.py --resume '{source}' --new-name '{new_name}'",
      "note": "Use duplicate_resume.py CLI script for command-line duplication"
    },

    "duplicate_resume": {
      "description": "Duplicate an existing resume with a new name",
      "command": "python src/duplicate_resume.py --resume '{source}' --new-name '{new_name}'",
      "api_endpoint": "POST /api/resumes/{id}/duplicate",
      "examples": [
        "python src/duplicate_resume.py --resume 'Ford' --new-name 'Sidney_Jones_Engineering_Manager_NewCo'",
        "python src/duplicate_resume.py --resume 'Master Resume' --new-name 'Sidney_Jones_Senior_Engineer_Startup'"
      ]
    },
    
    "export_resume": {
      "description": "Export resume to DOCX format",
      "command": "python src/generate_hybrid_resume.py --resume {resume_path} --output {output_path}",
      "api_endpoint": "POST /api/resume/docx"
    }
  },
  
  "api_endpoints": {
    "base_url": "http://localhost:5000/api",
    "resumes": {
      "list": "GET /api/resumes",
      "get": "GET /api/resumes/{id}",
      "create": "POST /api/resumes",
      "update": "PUT /api/resumes/{id}",
      "delete": "DELETE /api/resumes/{id}",
      "duplicate": "POST /api/resumes/{id}/duplicate",
      "tailor": "POST /api/resumes/{id}/tailor"
    },
    "job_listings": {
      "list": "GET /api/job-listings",
      "get": "GET /api/job-listings/{id}",
      "create": "POST /api/job-listings",
      "update": "PUT /api/job-listings/{id}",
      "delete": "DELETE /api/job-listings/{id}"
    },
    "agent": {
      "chat": "POST /api/agent/chat",
      "memory": "GET /api/agent/memory",
      "clear_memory": "POST /api/agent/memory/clear",
      "validate_command": "POST /api/agent/validate-command"
    }
  },
  
  "file_locations": {
    "master_resume": "data/master_resume.json",
    "resumes_directory": "data/resumes/",
    "job_listings_directory": "data/job_listings/",
    "output_directory": "out/",
    "backups_directory": "data/backups/",
    "templates": "templates/",
    "source_code": "src/",
    "tests": "tests/",
    "documentation": "docs/"
  },
  
  "command_patterns": {
    "update_resume": {
      "patterns": [
        "update {resume_name} with {file_path}",
        "update the {company} resume with {file_path}",
        "add experience from {file_path} to {resume_name}",
        "apply {file_path} to {resume_name}"
      ],
      "extraction": {
        "resume_identifier": "Extract company name or resume name (case-insensitive)",
        "file_path": "Extract file path (can be absolute or relative)"
      }
    },

    "crud_basic_info": {
      "patterns": [
        "update my title to {title}",
        "change my title to {title}",
        "update my email to {email}",
        "change my email to {email}",
        "update my location to {location}",
        "change my location to {location}",
        "update my phone to {phone}",
        "show my basic info",
        "show my contact information"
      ],
      "script": "python src/crud/basic_info.py"
    },

    "crud_summary": {
      "patterns": [
        "update my summary to {text}",
        "change my summary to {text}",
        "add {text} to my summary",
        "append {text} to my summary",
        "show my summary"
      ],
      "script": "python src/crud/summary.py"
    },

    "crud_technical_skills": {
      "patterns": [
        "add {skill} to my {category} skills",
        "add {skill} to my technical skills",
        "update my {category} skills to include {skills}",
        "remove {skill} from my skills",
        "list my technical skills",
        "show my technical skills"
      ],
      "script": "python src/crud/technical_skills.py"
    },

    "crud_expertise": {
      "patterns": [
        "add {expertise} to my areas of expertise",
        "add {expertise} to my expertise",
        "remove {expertise} from my expertise",
        "delete {expertise} from my areas of expertise",
        "list my areas of expertise",
        "show my expertise"
      ],
      "script": "python src/crud/expertise.py"
    },

    "crud_achievements": {
      "patterns": [
        "add achievement: {achievement}",
        "add {achievement} to my achievements",
        "remove {achievement} from my achievements",
        "delete {achievement} from my achievements",
        "list my achievements",
        "show my achievements"
      ],
      "script": "python src/crud/achievements.py"
    },

    "crud_education": {
      "patterns": [
        "add my {degree} from {institution}",
        "add education: {degree} from {institution}",
        "update my {institution} degree",
        "remove my {institution} education",
        "delete my {institution} education",
        "list my education",
        "show my education"
      ],
      "script": "python src/crud/education.py"
    },

    "crud_certifications": {
      "patterns": [
        "add my {certification} certification",
        "add certification: {certification}",
        "update my {certification} certification",
        "remove my {certification} certification",
        "delete my {certification}",
        "list my certifications",
        "show my certifications"
      ],
      "script": "python src/crud/certifications.py"
    },

    "crud_experience": {
      "patterns": [
        "add a new job at {employer}",
        "add experience at {employer}",
        "add a bullet to my {employer} experience",
        "add bullet to {employer}: {text}",
        "update my {employer} experience",
        "delete my {employer} job",
        "remove my {employer} experience",
        "list my work experience",
        "show my experience"
      ],
      "script": "python src/crud/experience.py"
    },

    "duplicate_resume": {
      "patterns": [
        "create a new resume based on {resume}",
        "duplicate the {resume} resume",
        "copy {resume} resume",
        "using the {resume} resume, create a new one for {job}",
        "make a copy of {resume} resume",
        "clone the {resume} resume"
      ],
      "script": "python src/duplicate_resume.py",
      "extraction": {
        "source_resume": "Extract source resume name (e.g., 'Ford', 'Master Resume')",
        "new_name": "Extract or generate new resume name based on job/company"
      }
    },

    "tailor_resume": {
      "patterns": [
        "tailor {resume_name} for {company}",
        "tailor my resume for {job_description}",
        "create tailored resume for {company}",
        "customize resume for {job_posting}"
      ]
    },

    "list_items": {
      "patterns": [
        "list resumes",
        "show all resumes",
        "what resumes do I have",
        "list job listings",
        "show job postings"
      ]
    }
  },
  
  "natural_language_understanding": {
    "company_name_extraction": {
      "description": "Extract company names from commands",
      "examples": {
        "Ford": ["Ford", "ford", "FORD", "Ford Motor Company"],
        "GM": ["GM", "General Motors", "gm"],
        "Credibly": ["Credibly", "credibly"]
      }
    },

    "resume_matching": {
      "description": "Match user intent to specific resume",
      "strategies": [
        "Exact name match in index.json",
        "Partial name match (case-insensitive)",
        "Company name extraction from resume name",
        "Fuzzy matching for typos"
      ]
    }
  },

  "parsers": {
    "description": "Parser modules for intelligent resume operations",
    "location": "src/parsers/",

    "job_posting_parser": {
      "file": "src/parsers/job_posting_parser.py",
      "class": "JobPostingParser",
      "description": "Parse job postings to extract structured requirements",
      "usage": "python src/parsers/job_posting_parser.py <job_posting_file>",
      "extracts": [
        "Job title and level",
        "Company name",
        "Location and work arrangement",
        "Required technical skills",
        "Preferred skills",
        "Key responsibilities",
        "Years of experience required",
        "Management experience",
        "Soft skills",
        "Compliance requirements (SOX, GDPR, etc.)"
      ],
      "output_format": {
        "title": "string",
        "company": "string",
        "location": "string",
        "work_arrangement": "string (hybrid/remote/on-site)",
        "required_skills": "array of strings",
        "preferred_skills": "array of strings",
        "responsibilities": "array of strings",
        "experience_years": "integer or null",
        "management_experience": "integer or null",
        "technical_requirements": "array of strings",
        "soft_skills": "array of strings",
        "compliance_requirements": "array of strings"
      }
    },

    "experience_parser": {
      "file": "src/parsers/experience_parser.py",
      "class": "ExperienceParser",
      "description": "Parse markdown experience files to extract work history",
      "usage": "python src/parsers/experience_parser.py <experience_file>",
      "input_format": "Markdown with ### headers for each experience entry",
      "header_pattern": "### **Employer - Role (Dates)**",
      "extracts": [
        "Employer name",
        "Role/title",
        "Dates (start-end)",
        "Location (if present)",
        "Bullet points/achievements",
        "Tags/skills"
      ],
      "output_format": {
        "employer": "string",
        "role": "string",
        "dates": "string",
        "location": "string",
        "bullets": "array of strings",
        "tags": "array of strings"
      }
    },

    "nl_command_parser": {
      "file": "src/parsers/nl_command_parser.py",
      "class": "NLCommandParser",
      "description": "Parse natural language commands and map to CRUD operations",
      "usage": "python src/parsers/nl_command_parser.py",
      "intents": [
        "add - Add new items",
        "update - Modify existing items",
        "remove - Delete items",
        "list - Show all items",
        "show - Display specific item",
        "create - Create new resume",
        "duplicate - Copy resume"
      ],
      "entities": [
        "technical_skills - Technical proficiencies",
        "expertise - Areas of expertise",
        "experience - Work history",
        "education - Educational background",
        "certification - Certifications",
        "summary - Resume summary",
        "basic_info - Name, title, contact info",
        "achievements - Accomplishments",
        "resume - Resume operations"
      ],
      "output_format": {
        "intent": "string",
        "entity": "string",
        "resume": "string",
        "parameters": "object",
        "command": "string (CRUD command to execute)",
        "original": "string (original command)"
      },
      "examples": [
        {
          "input": "Add Python to my technical skills",
          "output": "python src/crud/technical_skills.py --resume 'Master Resume' --append-to-category 'languages' 'Python'"
        },
        {
          "input": "Update my title to Principal Architect",
          "output": "python src/crud/basic_info.py --resume 'Master Resume' --update-title 'Principal Architect'"
        },
        {
          "input": "List my certifications",
          "output": "python src/crud/certifications.py --resume 'Master Resume' --list"
        },
        {
          "input": "Duplicate the Ford resume as GM_Resume",
          "output": "python src/duplicate_resume.py --resume 'Ford' --new-name 'GM_Resume'"
        }
      ]
    }
  }
}

